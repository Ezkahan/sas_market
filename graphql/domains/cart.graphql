type Cart {
    id: ID!
    user: User @belongsTo
    products: [CartProduct!]! @hasMany
    coupons: [Coupon]
    summary: CartSummary
}

type CartProduct {
    product: Product @belongsTo
    quantity: Int
    price: Int
    discount_price: Int
}

type DeliveryCost {
    id: ID
    key: String
    value: JSON
}

type CartSummary {
    totalDiscount: Int
    couponTotal: Int
    totalCost: Int
}

extend type Query {
    getCart(type: String): [Cart!]! @field(resolver: "GetCartQuery")
    getDeliveryCosts: DeliveryCost @field(resolver: "GetDeliveryCosts")
}

extend type Mutation {
    addToCart(product_id: ID!, quantity: Int!): Cart
        @guard
        @field(resolver: "AddToCartMutation")
}
